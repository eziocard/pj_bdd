<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel = "stylesheet" href="./css/estilos_bp.css">
    <script src="https://kit.fontawesome.com/e7837afc12.js" crossorigin="anonymous"></script>
</head>
<body>
    <div>
    <h2 id = titulo_buscar>
        Buscar Prestamo
        <i class="fa-solid fa-book"></i>
        </h2>
        
        <label for="nombre">Ingresar Codigo</label>
        <input class="textfield" type="text" id="id_prestamo" name="nombre" minlength="2" maxlength="64" size="32">
        <button onclick="mostrar_prestamo()">Buscar</button>     
        <button onclick='m_todo()'>Mostrar todo</button>
        </div>
        
        <div class="tabla" id="resultados"></div>

        <script>
            function m_todo() {
            fetch('consulta_prestamo.php?opcion=mostrar_todo')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('resultados').innerHTML = data;
                })
                .catch(error => console.error('Error:', error));
        }
        function mostrar_prestamo(){
            const id_prestamo = document.getElementById('id_prestamo').value;
            if(id_prestamo == ""){
                alert("porfavor ingrese un dato");
            }
            else{
            fetch(`consulta_prestamo.php?opcion=mostrar_prestamo&id_prestamo=${id_prestamo}`)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('resultados').innerHTML = data;

                })
                .catch(error => console.error('Error:', error));
            }
        }

    </script>
</body>
</html>